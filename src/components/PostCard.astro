---
export interface Props {
  title: string;
  date: string;
  summary: string;
  slug: string;
  tags?: string[];
}

const { title, date, summary, slug, tags = [] } = Astro.props;
const formattedDate = new Date(date).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long', 
  day: 'numeric'
});

// Get the base path from the config
const base = import.meta.env.BASE_URL;
---

<article class="card">
  <header>
    <h3><a href={`${base}news/${slug}`}>{title}</a></h3>
    <div class="post-meta">
      <time datetime={date}>{formattedDate}</time>
    </div>
  </header>
  
  <p>{summary}</p>
  
  <footer class="flex justify-between items-center mt-md">
    <div class="post-tags">
      {tags.map(tag => (
        <span class="tag">{tag}</span>
      ))}
    </div>
    <a href={`${base}news/${slug}`} class="btn btn-small">Read more â†’</a>
  </footer>
</article>
