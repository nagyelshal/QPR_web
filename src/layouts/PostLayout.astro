---
import BaseLayout from './BaseLayout.astro';

export interface Props {
  title: string;
  date: string;
  tags?: string[];
  summary?: string;
}

const { title, date, tags = [], summary } = Astro.props;
const formattedDate = new Date(date).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});

// Get the base path from the config
const base = import.meta.env.BASE_URL;
---

<BaseLayout title={title}>
  <div class="container">
    <article class="card" style="max-width: 800px; margin: 0 auto;">
      <header>
        <h1>{title}</h1>
        <div class="post-meta">
          <time datetime={date}>{formattedDate}</time>
        </div>
        {summary && <p style="font-size: var(--font-size-lg); color: var(--color-text-light); margin-bottom: var(--spacing-lg);">{summary}</p>}
      </header>
      
      <div style="margin: var(--spacing-xl) 0;">
        <slot />
      </div>
      
      {tags.length > 0 && (
        <footer>
          <div class="post-tags">
            {tags.map(tag => (
              <span class="tag">{tag}</span>
            ))}
          </div>
        </footer>
      )}
    </article>
    
    <div style="text-align: center; margin-top: var(--spacing-xl);">
      <a href={`${base}news/`} class="btn btn-secondary">‚Üê Back to News</a>
    </div>
  </div>
</BaseLayout>
